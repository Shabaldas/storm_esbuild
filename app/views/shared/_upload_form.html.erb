<%= turbo_frame_tag "upload-form" do %>
  <%= form_with model: [model], class: "w-full max-w-[1029px] mx-auto bg-white py-6 px-6 md:px-8 rounded-[20px] flex flex-col lg:flex-row items-center justify-between mb-20 md:mb-[154px]" do |form| %>
    <div class="w-full lg:w-1/2 order-2 lg:order-1 mt-6 lg:mt-0">
      <div class="flex items-center">
        <%= image_tag("icons_svg/settings.svg", class:'mr-1.5', alt: "settings-icon") %>
        <span class="text-dark-grey font-semibold">
          <%= t("static_pages.upload_form.order_form") %>
        </span>
      </div>
      <div class="w-full flex flex-col">
        <div class="w-full sm:max-w-[470px]">
          <div class="mt-7 w-full sm:max-w-[470px]">
            <%= form.label t("static_pages.upload_form.full_name"), class: "text-sm text-metalic-grey" %>
            <%= form.text_field :first_name, placeholder: t("static_pages.upload_form.please_input") %>
            <%= inline_error_for(:first_name, model) %>
          </div>
          <div class="mt-7 w-full sm:max-w-[470px]">
            <%= form.label t("static_pages.upload_form.mobile_phone"), class: "text-sm text-metalic-grey" %>
            <%= form.text_field :phone_number, type: "tel", placeholder: "+38 (096) 640 40 50" %>
            <%= inline_error_for(:phone_number, model) %>
          </div>
          <div class="mt-7 w-full sm:max-w-[470px]">
            <%= form.label t("static_pages.upload_form.email"), class: "text-sm text-metalic-grey" %>
            <%= form.text_field :email, placeholder: "example@email.com" %>
            <%= inline_error_for(:email, model) %>
          </div>
          <div class="mt-7 w-full sm:max-w-[470px]">
            <%= form.label t("static_pages.upload_form.link"), class: "text-sm text-metalic-grey" %>
            <%= form.text_field :link_to_model, placeholder: t("static_pages.upload_form.please_input") %>
            <%= inline_error_for(:link_to_model, model) %>
          </div>
          <span class="flex justify-end p-1 text-[10px] text-metalic-grey">
            <%= t("static_pages.upload_form.link_message") %>
          </span>
          <div class="mt-7 w-full sm:max-w-[470px]">
            <%= form.label t("static_pages.upload_form.comment"), class: "text-sm text-metalic-grey" %>
            <%= form.text_area :comment, placeholder: t("static_pages.upload_form.comment_placeholder"), data: { controller: "textarea-autogrow" }, class: "w-full h-24" %>
            <%= inline_error_for(:comment, model) %>
          </div>
        </div>
        <%= form.submit t('static_pages.upload_form.order'), class: "button w-full mx-auto sm:mx-0 sm:w-56 mt-8" %>
      </div>
    </div>

    <div data-controller="dropzone" 
        class="overflow-auto w-full h-[300px] sm:h-[504px] dropzone-default dz-clickable dropzone lg:w-1/2 ml-0 lg:ml-6 flex items-center justify-center bg-light-grey rounded-[20px] border-2 border-dashed border-zinc order-1 lg:order-2" 
        style="border-radius: inherit"
        data-dropzone-accepted-files = <%= order_accepted_files(order_name) %>
        data-dropzone-max-file-size = "25"
    >
      <div>
        <%= form.file_field :files, multiple: :true, direct_upload: true, data: { dropzone_target: 'input' }, class: "hidden" %>
        <div class="text-center">
          <div class="dz-default dz-message lg:pt-[103px]">
            <p class="dropzone-msg-title">
              <%= image_tag("icons_svg/#{image_icon}.svg", class: "w-1/3 mx-auto lg:h-24", alt: "image-svg-icon") %>
            </p>
            <p class="dropzone-msg-desc text-xs pt-2"><%= t("static_pages.upload_form.dropzone_message") %></p>
          </div>       
        </div>
      </div>
      <%= inline_error_for(:files, model) %>
    </div>
    <% end %>
  <% end %>
