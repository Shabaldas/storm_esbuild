<%= render partial: "dredd/shared/errors", locals: { resource: @product_category } %>
<%= form_with model: [:dredd, @product_category], url: dredd_product_categories_path, class: "form-grid-single" do |form| %>
  <div class="form-grid-single w-1/2">
    <div class="form-group">
      <%= form.label :name, class: "form-label" %>
      <%= form.text_field :name, placeholder: "Please input" %>
    </div>
    
    <%#TODO REMOVE AFTER DEPLOY%>
    <%= form.file_field :main_picture %>
    <%= form.label :main_picture %>
    <div data-controller="dropzone" class="form-group dropzone">
      <%= form.file_field :main_picture,  multiple: false, direct_upload: true, data: { dropzone_target: 'input' }, class: "hidden" %>
    </div>

    <div class="form-group">
      <%= form.label :description, class: "form-label" %>
      <%= form.text_area :description, placeholder: "Please input", class: "w-full form-control" %>
    </div>
    <div class="form-group">
      <%= form.label :parent, class: "form-label" %>
      <%= form.select :ancestry,
                      product_categories_for_categories_select,
                      { class: "", include_blank: true },
                      { multiple: false, data: { controller: "select" }}
                      %>
    </div>
    <div class="form-group">
      <%= form.submit "Create Product Category", class: "button w-full" %>
    </div>
  </div>
<% end %>
